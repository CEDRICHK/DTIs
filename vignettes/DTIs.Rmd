---
title: "DTIs"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{DTIs}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Introduction

The **uniprot_drug_data** function retrieves gene names and organism information of drugs from UniProt and returns the result as a data frame. The function takes a character vector of drug names as an input and returns a data frame containing the accession number, gene names, organism name, review status and the drug name.

# Usage

```{r usage}
library(DTIs)
uniprot_drug_data(drug = c("Aceclofenac", "Alverine"))
```

The above code will return a data frame containing the accession number, gene names, organism name, review status and the drug name for the drugs in the character vector passed to the function.

## Example

Retrieve data for Aceclofenac and Alverine:

```{r Example, warning=FALSE}
# Retrieve data for Aceclofenac and Alverine
drug <- c("Aceclofenac", "Alverine")
result <- uniprot_drug_data(drug)

# Inspect the first rows
head(result)
```

This will return the gene names and organism information for the drugs **Aceclofenac** and **Alverine**, then display the first rows of the resulting tibble.

## Batch query

To replicate the exploratory script that previously lived in `R/run.R`, you can query a larger list of compounds. The chunk below is not executed when building the vignette (to avoid hitting the UniProt API during documentation builds), but you can run it locally:

```{r BatchQuery, eval=FALSE}
library(DTIs)

drug <- c(
  "Aceclofenac", "Benzthiazide", "Alverine", "Amikacin", "Azacytidine",
  "Carbinoxamine", "Cefotetan", "Clidinium", "Clomifene",
  "Clopidogrel", "Dexfenfluramine", "Diclofenamide", "Dipyrone",
  "Dydrogesterone", "Etoposide", "Formoterol", "Haloperidol", "Hyoscyamine",
  "Ifenprodil", "Indapamide", "Kanamycin", "Ketanserin", "Lomefloxacin",
  "Methimazole", "Nimesulide", "Oxymetazoline", "Pargyline",
  "Pentobarbital", "Phentolamine", "Prochlorperazine", "Raltitrexed",
  "Roxithromycin", "Scopolamine", "Silodosin", "Spectinomycin",
  "Tetryzoline", "Theobromine", "Theophylline", "Tranexamic",
  "Trichlormethiazide", "Tropicamide", "Valdecoxib", "Xylometazoline"
)

targets <- uniprot_drug_data(drug)
head(targets)
```

This longer-running example returns a tibble containing the UniProt entries and primary gene names for each compound in the list.
